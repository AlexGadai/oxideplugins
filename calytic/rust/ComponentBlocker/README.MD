

		
				
	
		
		
			
				
			
				
			
				
					Configuration File:
						Yes
					
	
			
		**Features** 


* Remove any item or game object from the world

* Configurable messages and localization

* Blueprint fragment refund on reveal of blocked item

* Ingredient refund on crafting of blocked item

* Removes blueprints of blocked items from players crafting list (on player connect)

* Block structure upgrades to any tier (configurable)


**Description** 


Component Blocker is a small mod which removes entities and items completely from the game.  This mod is for server owners who want to restrict the availability of items or entities in the game world.


Component Blocker uses a variety of Oxide hooks to check entities and items against the block list.  If an entity or item is found on the block list, it is removed instantly from the game.

**Notes** 


Entities include in-game prefabs such as rocks, trees, or buildings.   These may be blocked using the entity asset resource path, qualified or unqualified.  Note: Prefabs generated by procgen may not be removed, this includes large rocks, radtowns, mountains, sphere tank, etc.


Items are not entities, and only exist in containers, inventory, or (temporarily) on the ground.  For admins, the items will still appear in the console but may not be created until they are unblocked.


The block list is very permissive and checks a variety of properties to determine candidates for deletion.  The blocking behavior does not differentiate between items and blueprints, they are both removed.

**Usage** 


The /blocker command is a toggled list, meaning that using the same command again will remove the item from the list.


Add an item by shortname to the block list

	
	
``/blocker ammo.shotgun.slug``

Remove block by running the exact same command

	
	
``/blocker ammo.shotgun.slug``

Alternatively, add an item by full name

	
	
``/blocker "12 Gauge Slug"``

Please note the quotations, they are necessary for names that include spaces.


Add an entity by resource path to block list

	
	
``/blocker assets/bundled/prefabs/events/cargo_plane``

Blocking structure tiers will prevent players from upgrading to any given tier

	
	
``/blocker structure.wood

/blocker structure.stone

/blocker structure.metal

/blocker structure.armored``

Block collectables (stone/wood/ore)

	
	
``/blocker autospawn/collectable/stone``

To view everything currently on the block list..

	
	
``/blocklist``

From console:

	
	
``blocker ammo.shotgun.slug``


**Permissive Blocking Behavior** 


When blocking an item by name where multiple items match said name, use the /listinv command to find more specific names depending on item skin or classification.  An example of an item that matches this criteria is "pants".  Adding the default pants to your inventory and after using the /listinv command, you can identify the name to block this specific item name without blocking all items with "pants" in the name.

**Hooks** 


The following hooks are affected by this mod:

* OnItemCraft

* OnEntitySpawned

* OnItemAddedToContainer

* OnItemDeployed

* OnBlueprintReveal

* OnPlantGather

* OnQuarryGather

* OnStructureUpgrade
**API Methods**  (for plugin developers)

	
	
``void AddBlock(string name)

void RemoveBlock(string name)

bool IsBlocking(string name)``


Example usage (C#)

	
	
``ComponentBlocker.Call("AddBlock", "ammo.shotgun.slug");

ComponentBlocker.Call("RemoveBlock", "ammo.shotgun.slug");

if((bool)ComponentBlocker.Call("IsBlocking", "ammo.shotgun.slug")) {

     // do something

}``


		
	
	
	